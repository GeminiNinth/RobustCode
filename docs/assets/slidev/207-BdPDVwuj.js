import{o as l,c as t,k as n,q as r,s as p,B as i,e as s,a7 as a}from"../modules/vue-5f8YWAHd.js";import{I as c}from"./default-BtheRtPX.js";import{dB as e}from"../index-Bz6hXiy0.js";import{p as d,u as o,f as h}from"./context-DLMsinnS.js";import"../modules/shiki-Bzt_bDtX.js";const k=s("ol",{start:"2"},[s("li",null,[s("p",null,"副作用を明示する"),s("p",null,[a("どうしても"),s("code",null,"canvas.redraw"),a("メソッドが必要なら、それを呼び出す"),s("code",null,"get_pixel"),a("メソッドの"),s("b",{class:"safe"},"命名を変えたり"),a("、"),s("b",{class:"safe"},"コメントを表示する"),a("などして、副作用があることを明示する。")]),s("p",null,[s("code",null,"redraw_and_get_pixel"),a("というメソッド名なら")]),s("p",null,[a("呼び出し元は「再描画処理が含まれるぞ」と"),s("b",{class:"safe"},"警戒できる")]),s("p",null,[a("この変更は非常に単純であり"),s("b",{class:"safe"},"物事に適切な名前を付けることの威力"),a("が示されている。")]),s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-diff"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"class Display:")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"  def __init__(self, canvas: Canvas):")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    self.canvas = canvas")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"  ...")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#FDAEB7","--shiki-light":"#B31D28"}},"- def get_pixel(self, x: int, y: int) -> Color:")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#85E89D","--shiki-light":"#22863A"}},"+ def redraw_and_get_pixel(self, x: int, y: int) -> Color:")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    canvas.redraw()")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    pixel_data: PixelData = canvas.get_pixel_data(x, y)")]),a(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    return pixel_data.color")])])])])],-1),f=s("div",{class:"small-text"},[s("p",null,"筆者が実際に遭遇した最もひどい副作用は、機械学習においてデータをシャッフルするメソッド内にcsvファイルを勝手に保存する処理が埋め込まれていたこと。（それも、ファイルパスがハードコーディングされていた！）")],-1),y={__name:"207",setup(_){return d(e),o(),(g,u)=>(l(),t(c,r(p(i(h)(i(e),206))),{default:n(()=>[k,f]),_:1},16))}};export{y as default};
